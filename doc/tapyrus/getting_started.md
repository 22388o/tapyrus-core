## Introduction

As Tapyrus is a *federated network*, multiple main networks overseen by one federation each would be online. Each network could be using tapyrus to deploy a blockchain application for use in a different contexts. A network can be identified by looking at the network parameters from v0.4.0 onwards(using the genesis block and netowrk magic bytes upto version v0.3.0). Before running a node double check the network parameters and make sure that the node connects to the right network.


### Components of a Tapyrus network
Tapyrus network has different kinds of nodes, this is a minimal list at the time of release:

| Node type |    How many? | Purpose |
| :---: | :---: | :---: |
|Tapyrus Signer | min 3, max 15  | A network of signers that collects Unapproved transactions from the Tapyrus network and creates a block. |
| Tapyrus Core  | min 1, unbounded  | Tapyrus full node implementation |
| Tapyrus Seeder | unbounded  | DNS seeder for configuring Tapyrus network |
| Tapyrus SPV | unbounded | A lightweight client implementation for Tapyrus blockchain |
| Tapyrus Explorer| unbounded | Tapyrus blockchain explorer |
| Electrs Tapyrus| unbounded | Tapyrus blockchain index server |

### Tapyrus network parameters
Following parameters are unique to each tapyrus network

**Genesis block**  
In tapyrus, genesis block is not embedded into the software. It is an external file generated using a utility provided by tapyrus called tapyrus-genesis and signed by the federation of tapyrus-signers. Each tapyrus network has a unique genesis block. 

**Aggregate public key**  
The genesis block contains the "aggregate public key" of the federation. It is generated by the Tapyrus-signer network at startup using verifiable secret sharing scheme. It is used by each tapyrus-core node to validate the threshold signature in the block proof and accept the block.

_TODO: describe the other network parameters_

## FAQ
* [How to build tapyrus?](https://github.com/chaintope/tapyrus-core/new/master/doc/tapyrus#how-to-build-tapyrus)  
* [How to start tapyrus in regtest mode?](https://github.com/chaintope/tapyrus-core/new/master/doc/tapyrus#how-to-start-tapyrus-in-regtest-mode)
* [How to start a node on tapyrus testnet?](https://github.com/chaintope/tapyrus-core/new/master/doc/tapyrus#how-to-start-a-node-on-tapyrus-testnet)
* [How to start a new tapyrus network?](https://github.com/chaintope/tapyrus-core/new/master/doc/tapyrus#how-to-start-a-new-tapyrus-network)

### How to build tapyrus? 

Tapyrus is currently supported on two platforms, Linux and Mac Os. 
- To build tapyrus-core  
Please follow the instructions in [build-unix.md](..//build-osx.md) and [build-osx.md](../build-osx.md) to build tapyrus-core compoenets
- To build tapyrus-signer   
Please follow the instructions in [build tapyrus-signer](https://github.com/chaintope/tapyrus-signer#building-the-source) to build tapyrus-signer
### How to start tapyrus in regtest mode?

One Tapyrus-core node can be started in regtest mode for testing purposes. In this case generate a new genesis block using tapyrus-genesis utility. 

### How to start a node on tapyrus testnet?

    Before running, it's recommended that you create an RPC configuration file.

    echo -e "rpcuser=bitcoinrpc\nrpcpassword=$(xxd -l 16 -p /dev/urandom)" > "/Users/${USER}/Library/Application Support/Tapyrus/tapyrus.conf"

    chmod 600 "/Users/${USER}/Library/Application Support/Tapyrus/tapyrus.conf"


### How to start a new tapyrus network?

A minimum functional tapyrus network needs 3 Tapyrus-signers and 1 Tapyrus-core node.  Following are the steps in launching a new Tapyrus-network:   
1 Create a new genesis block using Tapyrus-genesis utility.  
2 Start Tapyrus-signer network.  
3 Sign the genesis block using the signer network.   
4 Start Tapyrus-core    
